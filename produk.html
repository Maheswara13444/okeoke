<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Wastara - Upload Produk</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-[#0f172a] text-white min-h-screen flex items-center justify-center">

  <!-- FORM LOGIN -->
  <div id="loginBox" class="bg-[#1e293b] p-6 rounded-xl shadow-lg w-80">
    <h2 class="text-xl font-bold mb-4">Login Admin</h2>
    <input type="password" id="password" placeholder="Masukkan password"
      class="w-full p-2 mb-3 rounded bg-[#0f172a] text-white" />
    <button onclick="login()" 
      class="w-full bg-green-600 py-2 rounded-lg hover:bg-green-700 transition">
      Login
    </button>
    <p id="loginError" class="text-red-400 text-sm mt-2 hidden">Password salah!</p>
  </div>

  <!-- FORM UPLOAD PRODUK -->
  <div id="uploadBox" class="hidden bg-[#1e293b] p-6 rounded-xl shadow-lg w-96">
    <h2 class="text-xl font-bold mb-4">Unggah Produk</h2>
    <input type="text" id="nama" placeholder="Nama Produk" 
      class="w-full p-2 mb-3 rounded bg-[#0f172a] text-white" />
    <input type="number" id="harga" placeholder="Harga Produk" 
      class="w-full p-2 mb-3 rounded bg-[#0f172a] text-white" />
    <input type="date" id="kedaluwarsa" 
      class="w-full p-2 mb-3 rounded bg-[#0f172a] text-white" />
    <textarea id="deskripsi" placeholder="Deskripsi Produk"
      class="w-full p-2 mb-3 rounded bg-[#0f172a] text-white"></textarea>
    <input type="file" id="gambar" accept="image/*" 
      class="w-full p-2 mb-3 text-white" />
    
    <button onclick="unggahProduk()" 
      class="w-full bg-blue-600 py-2 rounded-lg hover:bg-blue-700 transition">
      Simpan Produk
    </button>
  </div>

  <script>
    const ADMIN_PASSWORD = "wastara123"; // ganti dengan password kamu

    function login() {
      const pass = document.getElementById("password").value;
      if (pass === ADMIN_PASSWORD) {
        localStorage.setItem("isAdmin", "true"); // simpan status login
        document.getElementById("loginBox").classList.add("hidden");
        document.getElementById("uploadBox").classList.remove("hidden");
      } else {
        document.getElementById("loginError").classList.remove("hidden");
      }
    }

    function checkLogin() {
      if (localStorage.getItem("isAdmin") === "true") {
        document.getElementById("loginBox").classList.add("hidden");
        document.getElementById("uploadBox").classList.remove("hidden");
      }
    }

    function unggahProduk() {
      const produk = {
        nama: document.getElementById("nama").value,
        harga: document.getElementById("harga").value,
        kedaluwarsa: document.getElementById("kedaluwarsa").value,
        deskripsi: document.getElementById("deskripsi").value,
      };
      alert("Produk berhasil diunggah:\n" + JSON.stringify(produk, null, 2));
      // nanti bisa diarahkan ke API untuk simpan ke database
    }

    // cek login saat halaman dibuka
    checkLogin();
  </script>
</body>
</html>
